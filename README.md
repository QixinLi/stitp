# STITP
基于情境感知的智能家居控制系统

# 项目学习日志
### 2018/4
实现安卓手机客户端
### 2018/3
实现FOIL机器学习算法
### 2018/2
Zigbee通过串口发送指令控制Wifi模块，通过STA模式给云服务器发送数据
### 2018/1
购置(ESP8826)wifi模块，学习使用AP模式与手机通信
### 2017/11
学习讨论机器学习算法
### 2017/10
租用阿里云服务器，并进行项目有关配置
### 2017/9
购买Zigbee套件，实现Zigbee数据传输
### 2017/8
学习Zigbee协议栈
### 2017/7
初学硬件，学习使用单片机获取温度
### 2017/5——2017/6
讨论制定项目部署格局以及执行方向

# 研究成果简介
项目实现一种基于情境感知的家居智能控制系统。
## 本项目研究成果主要内容包括以下几个部分：
### 一、智能家居系统中所需要的硬件设备
所有硬件设备包括：CC2530单片机、Zigbee模块、wifi模块、各类传感器（温湿度、气体、光敏、人体红外热释电等）。
最终成果包括多个终端和一个协调器，终端接各类传感器，通过Zigbee模块将传感器搜集到的数据发送给协调器。协调器通过串口给Wifi模块发送AT指令，从而通过wifi模块将数据发送给服务器端。
### 二、用于学习用户行为模式的FOIL情境感知算法
本项目通过FOIL算法，对服务器端得到的用户数据进行分析处理。将数据与“工作日、双休日、节假日、天气情况等”属性构建P、N集，调用FOIL算法。从而得出用户的行为模式，并将机器学习的结果以json的格式保存在服务器端。
### 三、完整的服务器端的配置
本项目选用阿里云ECS服务器。
服务器端通过java程序建立Socket通信，使得Wifi模块能够发送消息给服务器。并通过Tomcat平台，用jsp脚本以HTTP的方式将指定数据发送给手机客户端。
除数据的接收和发送外，服务器还负责在指定的时间间隔内运行FOIL算法程序。保证数据更新后能够同步更新计算用户的行为模式。 
### 四、完善的手机客户端程序
客户端是系统和用户的接口。手机客户端通过HTTP的方式，实时的反馈给用户当前的传感器数据，让用户即使身处异地也能时刻了解自己家里的情况。
手机客户端还能够提供及时的报警信息。倘若家中的烟雾传感器感应到有危险气体或者是用户出门在外的时候感应到有人走近家门，服务器端就会给手机客户端发送通知。此功能大大提高了用户体验的安全度。
此外，手机端会根据数据进行汇总和分析，并实时向用户提供一些生活建议。例如在出门前告知用户当前天气情况，并提供穿衣建议；根据家中温湿度情况，提醒用户是否要打开恒温器/加湿器。

## 项目中应用的关键技术
CC2530单片机编程、Zigbee数据通信技术、Wifi数据通信技术、[气体、温度、湿度、人体红外热释电等]传感器数据操作、Scoket通信、 HTTP数据传输、JSP服务器后端语言开发、FOIL机器学习算法、Android应用开发、聚合天气API调用。

## 该项目的主要功能
1、	实时获取用户环境的数据
2、	通过所获取的数据分析出用户的行为模式
3、	通过手机客户端可以实时掌握家中的信息
4、	服务器端能够通过用户的行为模式给予多样化的生活建议

# 特色与创新点：
1、本项目重点运用了FOIL情境感知算法，通过采集到的信息对用户行为模式进行分析，让家居设备离开人的控制，做到真正的自主。
2、本项目将大部分内容封装在硬件以及服务器中，避免了用户使用过程中复杂冗余的部分。一切只需要一个手机客户端就可以搞定。
3、本项目通过ZigBee模块进行硬件间的数据传输，相比大规模使用wifi/蓝牙大大降低了功效，相比gsm模块也大大降低了成本，同时也保证的数据传输的安全与稳定。
4、本项目的手机客户端能实时接收服务器端的数据。当服务器端接收到异常数据时能够立即报警，保护用户家庭的安全。
